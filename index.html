<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Will You Be My Valentine? ðŸ’•</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Nunito', sans-serif;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
  background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 30%, #f48fb1 60%, #e1bee7 100%);
}

/* Background image layer */
.bg-image {
  position: fixed;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: blur(6px);
  transform: scale(1.05);
  z-index: 0;
  display: none;
}

.bg-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.25);
  z-index: 1;
  display: none;
}

/* Floating hearts background */
.hearts-bg {
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  overflow: hidden;
}

.floating-heart {
  position: absolute;
  color: rgba(244, 143, 177, 0.15);
  font-size: 2rem;
  animation: floatHeart linear infinite;
}

@keyframes floatHeart {
  0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
}

/* Canvas overlay for confetti/fireworks */
#confettiCanvas {
  position: fixed;
  inset: 0;
  z-index: 100;
  pointer-events: none;
}

/* Card */
.card {
  position: relative;
  z-index: 10;
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(12px);
  border-radius: 28px;
  padding: 48px 36px 40px;
  max-width: 520px;
  width: 92vw;
  text-align: center;
  box-shadow:
    0 8px 40px rgba(233, 30, 99, 0.15),
    0 2px 12px rgba(0,0,0,0.06);
  border: 2px solid rgba(244, 143, 177, 0.3);
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.card.bounce {
  animation: bounceCard 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes bounceCard {
  0% { transform: scale(0.8); }
  50% { transform: scale(1.08); }
  100% { transform: scale(1); }
}

/* Cute heart SVG art at top */
.heart-art {
  margin-bottom: 20px;
}

.heart-art svg {
  width: 80px;
  height: 80px;
  animation: heartbeat 1.4s ease-in-out infinite;
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  15% { transform: scale(1.15); }
  30% { transform: scale(1); }
  45% { transform: scale(1.1); }
  60% { transform: scale(1); }
}

.headline {
  font-size: 1.65rem;
  font-weight: 800;
  color: #c2185b;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtext {
  font-size: 1rem;
  color: #ad1457;
  margin-bottom: 32px;
  opacity: 0.7;
}

/* Buttons container */
.buttons {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  margin-bottom: 16px;
  min-height: 70px;
  position: relative;
}

.btn-yes {
  background: linear-gradient(135deg, #e91e63, #f06292);
  color: #fff;
  border: none;
  padding: 16px 44px;
  font-size: 1.25rem;
  font-weight: 700;
  font-family: 'Nunito', sans-serif;
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(233, 30, 99, 0.4);
  animation: gentlePulse 2s ease-in-out infinite;
  transition: transform 0.2s, box-shadow 0.2s;
  outline: none;
}

.btn-yes:hover {
  transform: scale(1.06);
  box-shadow: 0 6px 28px rgba(233, 30, 99, 0.55);
}

.btn-yes:focus-visible {
  outline: 3px solid #f48fb1;
  outline-offset: 3px;
}

@keyframes gentlePulse {
  0%, 100% { box-shadow: 0 4px 20px rgba(233, 30, 99, 0.4); }
  50% { box-shadow: 0 4px 32px rgba(233, 30, 99, 0.65); }
}

.btn-no {
  background: #f5f5f5;
  color: #999;
  border: 1px solid #e0e0e0;
  padding: 10px 24px;
  font-size: 0.9rem;
  font-weight: 600;
  font-family: 'Nunito', sans-serif;
  border-radius: 50px;
  cursor: pointer;
  transition: left 0.3s ease, top 0.3s ease, transform 0.3s ease;
  position: relative;
  outline: none;
  user-select: none;
}

.btn-no:focus-visible {
  outline: 3px solid #f48fb1;
  outline-offset: 3px;
}

.btn-no.runaway {
  position: absolute;
}

.funny-caption {
  font-size: 0.85rem;
  color: #e91e63;
  opacity: 0.7;
  min-height: 1.4em;
  font-weight: 600;
}

/* Celebration state */
.celebration-title {
  font-size: 2.5rem;
  font-weight: 800;
  color: #c2185b;
  margin-bottom: 12px;
}

.celebration-text {
  font-size: 1.1rem;
  color: #ad1457;
  margin-bottom: 28px;
  font-weight: 600;
  font-style: italic;
}

.btn-replay {
  background: linear-gradient(135deg, #f48fb1, #f06292);
  color: #fff;
  border: none;
  padding: 12px 32px;
  font-size: 1rem;
  font-weight: 700;
  font-family: 'Nunito', sans-serif;
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0 4px 16px rgba(233, 30, 99, 0.3);
  transition: transform 0.2s;
  outline: none;
}

.btn-replay:hover { transform: scale(1.05); }
.btn-replay:focus-visible { outline: 3px solid #f48fb1; outline-offset: 3px; }

@media (max-width: 500px) {
  .card { padding: 36px 24px 32px; }
  .headline { font-size: 1.35rem; }
  .btn-yes { padding: 14px 36px; font-size: 1.1rem; }
  .celebration-title { font-size: 2rem; }
}
</style>
</head>
<body>

<div class="bg-image" id="bgImage"></div>
<div class="bg-overlay" id="bgOverlay"></div>

<div class="hearts-bg" id="heartsBg"></div>

<canvas id="confettiCanvas"></canvas>

<div class="card" id="card">
  <div id="mainContent">
    <div class="heart-art">
      <svg viewBox="0 0 100 90" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 85 C25 65, 0 45, 0 25 C0 10, 12 0, 25 0 C35 0, 45 8, 50 15 C55 8, 65 0, 75 0 C88 0, 100 10, 100 25 C100 45, 75 65, 50 85Z" fill="#e91e63"/>
        <ellipse cx="30" cy="28" rx="10" ry="8" fill="rgba(255,255,255,0.3)" transform="rotate(-25 30 28)"/>
      </svg>
    </div>
    <h1 class="headline" id="headline"></h1>
    <p class="subtext">I've been wanting to ask you... ðŸŒ¸</p>
    <div class="buttons" id="buttonsContainer">
      <button class="btn-yes" id="btnYes" aria-label="Yes, I'll be your Valentine">Yes! ðŸ’•</button>
      <button class="btn-no" id="btnNo" aria-label="No">No ðŸ˜¢</button>
    </div>
    <p class="funny-caption" id="funnyCaption">"No" seems a little shy ðŸ˜ˆ</p>
  </div>
</div>

<script>
// ============================================================
// ðŸŽ€ CONFIGURATION â€” EDIT THESE VALUES!
// ============================================================
// GIRLFRIEND_NAME: Change this to your partner's name.
const GIRLFRIEND_NAME = "Nirali";

// BACKGROUND_IMAGE_PATH: Set to a repo-relative path like "assets/bg.jpg".
// The image file must be committed to your GitHub repo for Pages to serve it.
// If set to "" or USE_BACKGROUND_IMAGE is false, a gradient is used instead.
const BACKGROUND_IMAGE_PATH = "assets/bg.jpg";

// USE_BACKGROUND_IMAGE: Set to false to always use the gradient background.
const USE_BACKGROUND_IMAGE = true;
// ============================================================

const headline = document.getElementById('headline');
headline.textContent = `${GIRLFRIEND_NAME}, will you be my Valentine?`;

// --- Background image ---
if (USE_BACKGROUND_IMAGE && BACKGROUND_IMAGE_PATH) {
  const bgEl = document.getElementById('bgImage');
  const overlayEl = document.getElementById('bgOverlay');
  const img = new Image();
  img.onload = () => {
    bgEl.style.backgroundImage = `url('${BACKGROUND_IMAGE_PATH}')`;
    bgEl.style.display = 'block';
    overlayEl.style.display = 'block';
  };
  img.onerror = () => { /* fallback gradient already showing */ };
  img.src = BACKGROUND_IMAGE_PATH;
}

// --- Floating hearts ---
const heartsBg = document.getElementById('heartsBg');
for (let i = 0; i < 12; i++) {
  const h = document.createElement('span');
  h.className = 'floating-heart';
  h.textContent = 'â™¥';
  h.style.left = Math.random() * 100 + '%';
  h.style.fontSize = (1 + Math.random() * 2) + 'rem';
  h.style.animationDuration = (8 + Math.random() * 12) + 's';
  h.style.animationDelay = (Math.random() * 10) + 's';
  heartsBg.appendChild(h);
}

// --- No button runaway ---
const btnNo = document.getElementById('btnNo');
const btnYes = document.getElementById('btnYes');
const card = document.getElementById('card');
const container = document.getElementById('buttonsContainer');
const captionEl = document.getElementById('funnyCaption');
const ESCAPE_DISTANCE = 100;
let escaped = false;

const captions = [
  '"No" seems a little shy ðŸ˜ˆ',
  "You can't catch it! ðŸƒâ€â™€ï¸",
  "Nice try! ðŸ˜",
  "It's running away! ðŸ’¨",
  "Almost got it... nope! ðŸ˜œ",
  "That button has places to be ðŸš€",
];
let captionIdx = 0;

function moveNoButton() {
  if (!escaped) {
    escaped = true;
    btnNo.classList.add('runaway');
  }
  const cardRect = card.getBoundingClientRect();
  const btnRect = btnNo.getBoundingClientRect();
  const bw = btnRect.width;
  const bh = btnRect.height;
  const pad = 12;
  const maxX = cardRect.width - bw - pad;
  const maxY = cardRect.height - bh - pad;
  const x = pad + Math.random() * Math.max(0, maxX - pad);
  const y = pad + Math.random() * Math.max(0, maxY - pad);
  btnNo.style.left = x + 'px';
  btnNo.style.top = y + 'px';
  captionIdx = (captionIdx + 1) % captions.length;
  captionEl.textContent = captions[captionIdx];
}

// Desktop: mousemove proximity
document.addEventListener('mousemove', (e) => {
  const r = btnNo.getBoundingClientRect();
  const cx = r.left + r.width / 2;
  const cy = r.top + r.height / 2;
  const dist = Math.hypot(e.clientX - cx, e.clientY - cy);
  if (dist < ESCAPE_DISTANCE) moveNoButton();
});

// Mobile: touchstart on/near
btnNo.addEventListener('touchstart', (e) => { e.preventDefault(); moveNoButton(); }, { passive: false });

// Also escape on hover as extra safety
btnNo.addEventListener('mouseenter', moveNoButton);

// --- Yes button celebration ---
btnYes.addEventListener('click', () => {
  const mainContent = document.getElementById('mainContent');
  mainContent.innerHTML = `
    <div class="heart-art">
      <svg viewBox="0 0 100 90" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 85 C25 65, 0 45, 0 25 C0 10, 12 0, 25 0 C35 0, 45 8, 50 15 C55 8, 65 0, 75 0 C88 0, 100 10, 100 25 C100 45, 75 65, 50 85Z" fill="#e91e63"/>
        <ellipse cx="30" cy="28" rx="10" ry="8" fill="rgba(255,255,255,0.3)" transform="rotate(-25 30 28)"/>
      </svg>
    </div>
    <h1 class="celebration-title">YAYYY!! ðŸ’–</h1>
    <p class="celebration-text">thank you, and i didnt forget you're welcome</p>
    <button class="btn-replay" id="btnReplay" aria-label="Replay">Replay ðŸ”„</button>
  `;
  card.classList.add('bounce');
  setTimeout(() => card.classList.remove('bounce'), 700);

  document.getElementById('btnReplay').addEventListener('click', () => location.reload());

  launchCelebration();
});

// --- Confetti & Fireworks ---
const canvas = document.getElementById('confettiCanvas');
const ctx = canvas.getContext('2d');
let particles = [];
let animId = null;

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function launchCelebration() {
  particles = [];
  // Fireworks
  for (let i = 0; i < 60; i++) {
    const cx = canvas.width * (0.3 + Math.random() * 0.4);
    const cy = canvas.height * (0.2 + Math.random() * 0.3);
    const angle = Math.random() * Math.PI * 2;
    const speed = 2 + Math.random() * 5;
    particles.push({
      x: cx, y: cy,
      vx: Math.cos(angle) * speed,
      vy: Math.sin(angle) * speed,
      life: 60 + Math.random() * 40,
      maxLife: 100,
      size: 2 + Math.random() * 2,
      color: `hsl(${340 + Math.random() * 40}, 90%, ${55 + Math.random() * 25}%)`,
      type: 'firework'
    });
  }
  // Confetti
  for (let i = 0; i < 150; i++) {
    particles.push({
      x: Math.random() * canvas.width,
      y: -10 - Math.random() * canvas.height * 0.5,
      vx: (Math.random() - 0.5) * 3,
      vy: 2 + Math.random() * 4,
      life: 120 + Math.random() * 80,
      maxLife: 200,
      size: 4 + Math.random() * 6,
      color: ['#e91e63','#f06292','#f48fb1','#ff5252','#ff80ab','#ffd54f','#ba68c8','#4fc3f7'][Math.floor(Math.random()*8)],
      rotation: Math.random() * 360,
      rotSpeed: (Math.random() - 0.5) * 10,
      type: 'confetti'
    });
  }
  if (!animId) animateCelebration();
}

function animateCelebration() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles = particles.filter(p => p.life > 0);

  for (const p of particles) {
    p.life--;
    const alpha = Math.min(1, p.life / (p.maxLife * 0.3));

    if (p.type === 'firework') {
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.06;
      p.vx *= 0.98;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
      ctx.fillStyle = p.color;
      ctx.globalAlpha = alpha;
      ctx.fill();
    } else {
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.03;
      p.vx *= 0.99;
      p.rotation += p.rotSpeed;
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rotation * Math.PI / 180);
      ctx.globalAlpha = alpha;
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.size / 2, -p.size / 4, p.size, p.size / 2);
      ctx.restore();
    }
  }
  ctx.globalAlpha = 1;

  if (particles.length > 0) {
    animId = requestAnimationFrame(animateCelebration);
  } else {
    animId = null;
  }
}
</script>
</body>
</html>